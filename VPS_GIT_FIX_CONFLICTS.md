# üîß Fix Git Merge Conflicts on VPS

## ‚ùå Current Error

```
error: Your local changes to the following files would be overwritten by merge:
        backend/index.js
        backend/package-lock.json
        frontend/src/services/api.ts
Please commit your changes or stash them before you merge.
```

---

## ‚úÖ Solution Options

### **Option 1: Stash Local Changes (Recommended - Keeps Changes Safe)**

```bash
cd /var/www/license-admin

# Stash local changes (saves them for later)
git stash

# Pull latest code
git pull https://github.com/Hussnain0341/POS-Admin.git main

# If you need the stashed changes later, restore them with:
# git stash pop
```

---

### **Option 2: Discard Local Changes (Use if VPS Should Match GitHub)**

```bash
cd /var/www/license-admin

# Discard all local changes (WARNING: This deletes local modifications)
git reset --hard HEAD

# Pull latest code
git pull https://github.com/Hussnain0341/POS-Admin.git main
```

---

### **Option 3: Force Pull (Overwrite Everything with GitHub Version)**

```bash
cd /var/www/license-admin

# Fetch latest
git fetch https://github.com/Hussnain0341/POS-Admin.git main

# Reset to match GitHub exactly
git reset --hard origin/main

# Or if origin is not set:
git reset --hard FETCH_HEAD
```

---

## üöÄ Complete Update Command (After Fixing Conflicts)

**After using one of the options above, run:**

```bash
cd /var/www/license-admin && git pull https://github.com/Hussnain0341/POS-Admin.git main && cd backend && npm install && cd ../frontend && npm install && npm run build && cd .. && pm2 restart license-admin
```

---

## üìã Recommended: One-Line Fix + Update

**For Production VPS (Discard Local Changes):**

```bash
cd /var/www/license-admin && git reset --hard HEAD && git pull https://github.com/Hussnain0341/POS-Admin.git main && cd backend && npm install && cd ../frontend && npm install && npm run build && cd .. && pm2 restart license-admin
```

**Or with Stash (Keep Changes Safe):**

```bash
cd /var/www/license-admin && git stash && git pull https://github.com/Hussnain0341/POS-Admin.git main && cd backend && npm install && cd ../frontend && npm install && npm run build && cd .. && pm2 restart license-admin
```

---

## üîç Check What Changed Locally (Before Deciding)

```bash
cd /var/www/license-admin

# See what files have local changes
git status

# See the actual differences
git diff backend/index.js
git diff backend/package-lock.json
git diff frontend/src/services/api.ts
```

---

## ‚ö†Ô∏è Important Notes

1. **`package-lock.json`** changes are usually safe to discard (will be regenerated by `npm install`)
2. **`backend/index.js`** and **`frontend/src/services/api.ts`** might have production-specific changes
3. **Recommended:** Use `git stash` first to save changes, then check if everything works. If it does, you can discard the stash later.

---

## üéØ Quick Fix (Copy & Paste This)

```bash
cd /var/www/license-admin && git reset --hard HEAD && git pull https://github.com/Hussnain0341/POS-Admin.git main && cd backend && npm install && cd ../frontend && npm install && npm run build && cd .. && pm2 restart license-admin
```

This will:
1. Discard all local changes
2. Pull latest from GitHub
3. Install dependencies
4. Build frontend
5. Restart the application


